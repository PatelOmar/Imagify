{"code":"(this.webpackJsonpimagify=this.webpackJsonpimagify||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},59:function(e,t,n){\"use strict\";n.r(t);var r=n(3),c=n(1),a=n.n(c),s=n(31),i=n.n(s),o=(n(46),n(47),n(21)),u=n(8),l=n(13),j=n(10),b=n.n(j),p=n(20),d=n(25),f=(n(60),n(49),n(61),n(23)),h=n(29);n(51).config();d.a.initializeApp({apiKey:\"AIzaSyDlfGYh6VKTQCYtdi7d1egRNQn81unP_oI\",authDomain:\"imagify-f5874.firebaseapp.com\",projectId:\"imagify-f5874\",storageBucket:\"imagify-f5874.appspot.com\",messagingSenderId:\"945216264228\",appId:\"1:945216264228:web:786999a75385fe4a5fe0b1\",measurementId:\"G-GS4S712STZ\"});var O=d.a.firestore(),x=d.a.auth(),g=d.a.storage(),v=function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new d.a.auth.GoogleAuthProvider,x.signInWithPopup(t);case 2:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.collection(\"images\").add({url:t,uid:x.currentUser.uid,publicPermission:!1});case 3:return e.abrupt(\"return\",!0);case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.abrupt(\"return\",!1);case 10:case\"end\":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(n),e.next=4,O.collection(\"images\").doc(t).update({publicPermission:n});case 4:return e.abrupt(\"return\",!0);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt(\"return\",!1);case 11:case\"end\":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),S=n(18);function k(){Object(u.f)();return Object(r.jsx)(\"div\",{className:\"Page-home-buttons\",children:Object(r.jsx)(S.a,{variant:\"outline-primary\",size:\"lg\",onClick:function(){v()},children:\"Sign In\"})})}var w=n(30);function P(){Object(u.f)();var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=(t[0],t[1]),a=Object(c.useState)([]),s=Object(l.a)(a,2),i=s[0],o=s[1],j=Object(c.useState)(!1),d=Object(l.a)(j,2),f=d[0],h=d[1],O=Object(c.useRef)(null),x=function(){var e=Object(p.a)(b.a.mark((function e(t){var r,c,a,s,i,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(!f),r={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0},console.log(\"Started!\"),c=[],a=[],s=t.target.files,i=0;case 7:if(!(i<s.length)){e.next=23;break}if(!t.target.files[i]){e.next=20;break}return e.prev=9,e.next=12,Object(w.a)(t.target.files[i],r);case 12:u=e.sent,c.push(u),a.push(t.target.files[i]),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),console.log(e.t0);case 20:i++,e.next=7;break;case 23:try{o(c),n(a)}catch(l){console.log(l)}console.log(\"Files ready for upload!\"),h(!f);case 26:case\"end\":return e.stop()}}),e,null,[[9,17]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(p.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(!f),t=b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.ref(\"images/\".concat(i[t].name)).put(i[t]);case 2:n=e.sent,console.log(\"Uploaded\"),n.task.on(\"state_changed\",(function(e){}),(function(e){console.log(e)}),(function(){g.ref(\"images\").child(i[t].name).getDownloadURL().then(function(){var e=Object(p.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:n=e.sent,console.log(\"Uploaded: \"+n);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 5:case\"end\":return e.stop()}}),e)})),r=0;case 3:if(!(r<i.length)){e.next=8;break}return e.delegateYield(t(r),\"t0\",5);case 5:r++,e.next=3;break;case 8:console.log(\"Uploaded!\"),o([]),n([]),h(!f);case 12:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)(\"div\",{children:Object(r.jsxs)(\"div\",{className:\"Page-home-buttons\",children:[Object(r.jsx)(\"input\",{style:{display:\"none\"},type:\"file\",onChange:x,ref:O}),Object(r.jsx)(S.a,{onClick:function(){O.current.click()},variant:\"outline-info\",size:\"lg\",children:\"Add Files\"}),Object(r.jsx)(\"span\",{className:\"Spacer\"}),Object(r.jsx)(S.a,{variant:\"outline-info\",size:\"lg\",disabled:!1,onClick:v,children:\"Upload\"})]})})}function I(){var e=Object(f.a)(x),t=Object(l.a)(e,1)[0];return Object(r.jsx)(\"body\",{className:\"App-body\",children:t?Object(r.jsx)(P,{}):Object(r.jsx)(k,{})})}var A=n(26);function N(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(e.permission),o=Object(l.a)(i,2),u=o[0],j=o[1],d=function(){var t=Object(p.a)(b.a.mark((function t(n){var r,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),r=!1,c=\"Private\",\"false\"===n?(r=!1,c=\"Private\"):(r=!0,c=\"Public\"),t.next=6,y(e.id,r);case 6:t.sent?(j(c),console.log(\"Successful!\")):console.log(\"Not Successful!\"),setTimeout((function(){s(!1)}),5e3);case 9:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.jsxs)(\"section\",{className:\"Image-Card\",children:[Object(r.jsx)(\"img\",{src:e.url,height:300,width:300}),Object(r.jsxs)(\"section\",{children:[Object(r.jsx)(\"h3\",{children:\"Permissions:\"}),Object(r.jsxs)(A.a,{onSelect:d,children:[Object(r.jsx)(A.a.Toggle,{disabled:a,children:u}),Object(r.jsxs)(A.a.Menu,{children:[Object(r.jsx)(A.a.Item,{eventKey:\"true\",children:\"Public\"}),Object(r.jsx)(A.a.Item,{eventKey:\"false\",children:\"Private\"})]})]})]})]})}function T(e){Object(u.f)();var t=O.collection(\"images\").where(e.querySearchType,\"==\",e.querySearchValue),n=Object(h.a)(t,{idField:\"id\"}),c=Object(l.a)(n,2),a=c[0],s=c[1];return Object(r.jsx)(\"div\",{children:!s&&Object(r.jsx)(C,{gallery:a})})}function C(e){Object(u.f)();console.log(e.gallery);var t=e.gallery;Object(c.useEffect)((function(){t[0].publicPermission||console.log(\"private\")}),[]);var n=t.map((function(e){var t=\"Private\";return e.publicPermission&&(t=\"Public\"),Object(r.jsx)(N,{url:e.url,permission:t,id:e.id})}));return Object(r.jsxs)(\"div\",{children:[Object(r.jsx)(\"h1\",{children:\"PRIVATE GALLERY\"}),n]})}function F(){var e=Object(f.a)(x),t=Object(l.a)(e,1)[0];return Object(r.jsx)(\"body\",{className:\"App-body\",children:t?Object(r.jsx)(T,{querySearchType:\"uid\",querySearchValue:x.currentUser.uid}):Object(r.jsx)(k,{})})}function U(){var e=Object(f.a)(x),t=Object(l.a)(e,1)[0];return Object(r.jsx)(\"body\",{className:\"App-body\",children:t?Object(r.jsx)(T,{querySearchType:\"publicPermission\",querySearchValue:!0}):Object(r.jsx)(k,{})})}function q(){return Object(r.jsxs)(\"div\",{className:\"App\",children:[Object(r.jsx)(\"header\",{className:\"App-header\",children:Object(r.jsx)(\"h1\",{children:\"Imagify\"})}),Object(r.jsx)(o.a,{children:Object(r.jsxs)(u.c,{children:[Object(r.jsx)(u.a,{exact:!0,path:\"/\",children:Object(r.jsx)(I,{})}),Object(r.jsx)(u.a,{exact:!0,path:\"/gallery/private\",children:Object(r.jsx)(F,{})}),Object(r.jsx)(u.a,{exact:!0,path:\"/gallery/public\",children:Object(r.jsx)(U,{})})]})})]})}var z=function(){return Object(r.jsx)(q,{})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(z,{})}),document.getElementById(\"root\")),G()}},[[59,1,2]]]);","name":"static/js/main.b398a3d5.chunk.js","map":{"version":3,"sources":["static/js/main.b398a3d5.chunk.js"],"names":["this","push","46","module","exports","__webpack_require__","47","59","__webpack_exports__","r","jsx_runtime","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","slicedToArray","regenerator","regenerator_default","asyncToGenerator","index_esm","react_firebase_hooks_auth_dist_index_esm","firestore_dist_index_esm","config","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","storage","authSignIn","_ref","Object","a","mark","_callee","provider","wrap","_context","prev","next","GoogleAuthProvider","signInWithPopup","stop","apply","arguments","uploadImage","_ref2","_callee2","url","_context2","collection","add","uid","currentUser","publicPermission","abrupt","t0","console","log","_x","updateImagePermission","_ref3","_callee3","id","permission","_context3","doc","update","_x2","_x3","Button","SignIn","className","children","variant","size","onClick","browser_image_compression","SignedIn","_useState","_useState2","setImages","_useState3","_useState4","compressedImages","setCompressedImages","_useState5","_useState6","click","setClick","fileInput","handleChange","e","options","tempCompressedImages","tempImages","files","i","compressedFile","maxSizeMB","maxWidthOrHeight","useWebWorker","target","length","sent","error","handleUpload","_loop","_context4","uploadTask","ref","concat","name","put","task","on","snapshot","child","getDownloadURL","then","uploaded","delegateYield","style","display","type","onChange","current","disabled","Home","_useAuthState","user","Dropdown","Image","props","clickDisabled","setClickDisabled","permissionValue","setPermissionValue","handleSelect","eventKey","toggleValue","setTimeout","src","height","width","onSelect","Toggle","Menu","Item","Gallery","query","where","querySearchType","querySearchValue","_useCollectionData","idField","_useCollectionData2","gallery","loading","Gallery_Feed","Images","Feed","map","image","PrivateGallery","PublicGallery","AppRouter","exact","path","src_App","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpimagify\"] = this[\"webpackJsonpimagify\"] || []).push([[0],{\n\n/***/ 46:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 47:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 59:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(31);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(46);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(47);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(10);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./node_modules/firebase/app/dist/index.esm.js\nvar index_esm = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/firebase/firestore/dist/index.esm.js + 1 modules\nvar dist_index_esm = __webpack_require__(60);\n\n// EXTERNAL MODULE: ./node_modules/firebase/auth/dist/index.esm.js\nvar auth_dist_index_esm = __webpack_require__(49);\n\n// EXTERNAL MODULE: ./node_modules/firebase/storage/dist/index.esm.js + 1 modules\nvar storage_dist_index_esm = __webpack_require__(61);\n\n// EXTERNAL MODULE: ./node_modules/react-firebase-hooks/auth/dist/index.esm.js\nvar react_firebase_hooks_auth_dist_index_esm = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/react-firebase-hooks/firestore/dist/index.esm.js\nvar firestore_dist_index_esm = __webpack_require__(29);\n\n// CONCATENATED MODULE: ./src/firebase/firestore.js\n__webpack_require__(51).config();var firebaseConfig={apiKey:\"AIzaSyDlfGYh6VKTQCYtdi7d1egRNQn81unP_oI\",authDomain:\"imagify-f5874.firebaseapp.com\",projectId:\"imagify-f5874\",storageBucket:\"imagify-f5874.appspot.com\",messagingSenderId:\"945216264228\",appId:\"1:945216264228:web:786999a75385fe4a5fe0b1\",measurementId:\"G-GS4S712STZ\"};index_esm[\"a\" /* default */].initializeApp(firebaseConfig);var db=index_esm[\"a\" /* default */].firestore();var auth=index_esm[\"a\" /* default */].auth();var storage=index_esm[\"a\" /* default */].storage();var authSignIn=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var provider;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:provider=new index_esm[\"a\" /* default */].auth.GoogleAuthProvider();auth.signInWithPopup(provider);case 2:case\"end\":return _context.stop();}}},_callee);}));return function authSignIn(){return _ref.apply(this,arguments);};}();var uploadImage=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(url){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return db.collection('images').add({url:url,uid:auth.currentUser.uid,publicPermission:false});case 3:return _context2.abrupt(\"return\",true);case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);return _context2.abrupt(\"return\",false);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6]]);}));return function uploadImage(_x){return _ref2.apply(this,arguments);};}();var updateImagePermission=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(id,permission){return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;console.log(permission);_context3.next=4;return db.collection('images').doc(id).update({publicPermission:permission});case 4:return _context3.abrupt(\"return\",true);case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);return _context3.abrupt(\"return\",false);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function updateImagePermission(_x2,_x3){return _ref3.apply(this,arguments);};}();\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Button.js\nvar Button = __webpack_require__(18);\n\n// CONCATENATED MODULE: ./src/components/SignIn.js\nfunction SignIn(){var history=Object(react_router[\"f\" /* useHistory */])();var handleSignIn=function handleSignIn(){authSignIn();};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Page-home-buttons\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outline-primary\",size:\"lg\",onClick:handleSignIn,children:\"Sign In\"})});}\n// EXTERNAL MODULE: ./node_modules/browser-image-compression/dist/browser-image-compression.mjs\nvar browser_image_compression = __webpack_require__(30);\n\n// CONCATENATED MODULE: ./src/components/SignedIn.js\nfunction SignedIn(){var history=Object(react_router[\"f\" /* useHistory */])();var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),images=_useState2[0],setImages=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),compressedImages=_useState4[0],setCompressedImages=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),click=_useState6[0],setClick=_useState6[1];var fileInput=Object(react[\"useRef\"])(null);var handleChange=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var options,tempCompressedImages,tempImages,files,i,compressedFile;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setClick(!click);options={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:true};console.log(\"Started!\");tempCompressedImages=[];tempImages=[];files=e.target.files;i=0;case 7:if(!(i<files.length)){_context.next=23;break;}if(!e.target.files[i]){_context.next=20;break;}_context.prev=9;_context.next=12;return Object(browser_image_compression[\"a\" /* default */])(e.target.files[i],options);case 12:compressedFile=_context.sent;tempCompressedImages.push(compressedFile);tempImages.push(e.target.files[i]);_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](9);console.log(_context.t0);case 20:i++;_context.next=7;break;case 23:try{setCompressedImages(tempCompressedImages);setImages(tempImages);}catch(error){console.log(error);}console.log(\"Files ready for upload!\");setClick(!click);// if(e.target.files[0]){\n//     try {\n//         console.log(\"Started\");\n//         const compressedFile = await imageCompression(e.target.files[0], options);\n//         console.log(\"worked\");\n//         setCompressedImage(compressedFile);\n//         setImage(e.target.files[0]);\n//         // await uploadToServer(compressedFile); // write your own logic\n//       } catch (error) {\n//         console.log(error);\n//       }\n// }\ncase 26:case\"end\":return _context.stop();}}},_callee,null,[[9,17]]);}));return function handleChange(_x){return _ref.apply(this,arguments);};}();var handleUpload=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var _loop,i;return regenerator_default.a.wrap(function _callee3$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:// console.log(image);\n// console.log(compressedImage);\nsetClick(!click);_loop=/*#__PURE__*/regenerator_default.a.mark(function _loop(i){var uploadTask;return regenerator_default.a.wrap(function _loop$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return storage.ref(\"images/\".concat(compressedImages[i].name)).put(compressedImages[i]);case 2:uploadTask=_context3.sent;console.log(\"Uploaded\");uploadTask.task.on(\"state_changed\",function(snapshot){},function(error){console.log(error);},function(){storage.ref(\"images\").child(compressedImages[i].name).getDownloadURL().then(/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(url){var uploaded;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return uploadImage(url);case 2:uploaded=_context2.sent;console.log(\"Uploaded: \"+uploaded);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}());});case 5:case\"end\":return _context3.stop();}}},_loop);});i=0;case 3:if(!(i<compressedImages.length)){_context4.next=8;break;}return _context4.delegateYield(_loop(i),\"t0\",5);case 5:i++;_context4.next=3;break;case 8:console.log(\"Uploaded!\");setCompressedImages([]);setImages([]);setClick(!click);case 12:case\"end\":return _context4.stop();}}},_callee3);}));return function handleUpload(){return _ref2.apply(this,arguments);};}();function handleClick(){fileInput.current.click();}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"Page-home-buttons\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{style:{display:\"none\"},type:\"file\",onChange:handleChange,ref:fileInput}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleClick,variant:\"outline-info\",size:\"lg\",children:\"Add Files\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"Spacer\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outline-info\",size:\"lg\",disabled:false,onClick:handleUpload,children:\"Upload\"})]})});}\n// CONCATENATED MODULE: ./src/pages/Home.js\nfunction Home(){var _useAuthState=Object(react_firebase_hooks_auth_dist_index_esm[\"a\" /* useAuthState */])(auth),_useAuthState2=Object(slicedToArray[\"a\" /* default */])(_useAuthState,1),user=_useAuthState2[0];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"body\",{className:\"App-body\",children:user?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SignedIn,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SignIn,{})});}\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Dropdown.js + 91 modules\nvar Dropdown = __webpack_require__(26);\n\n// CONCATENATED MODULE: ./src/components/Image.js\n// import { useAuthState } from 'react-firebase-hooks/auth';\n// import SignIn from \"./SignIn\";\nfunction Image(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),clickDisabled=_useState2[0],setClickDisabled=_useState2[1];var _useState3=Object(react[\"useState\"])(props.permission),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),permissionValue=_useState4[0],setPermissionValue=_useState4[1];var handleSelect=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(eventKey){var permission,toggleValue,updateProgress;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setClickDisabled(true);permission=false;toggleValue=\"Private\";if(eventKey===\"false\"){permission=false;toggleValue=\"Private\";}else{permission=true;toggleValue=\"Public\";}_context.next=6;return updateImagePermission(props.id,permission);case 6:updateProgress=_context.sent;if(updateProgress){setPermissionValue(toggleValue);console.log(\"Successful!\");}else{console.log(\"Not Successful!\");}setTimeout(function(){setClickDisabled(false);},5000);case 9:case\"end\":return _context.stop();}}},_callee);}));return function handleSelect(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{className:\"Image-Card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:props.url,height:300,width:300}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Permissions:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dropdown[\"a\" /* default */],{onSelect:handleSelect,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dropdown[\"a\" /* default */].Toggle,{disabled:clickDisabled,children:permissionValue}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dropdown[\"a\" /* default */].Menu,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dropdown[\"a\" /* default */].Item,{eventKey:\"true\",children:\"Public\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dropdown[\"a\" /* default */].Item,{eventKey:\"false\",children:\"Private\"})]})]})]})]});}\n// CONCATENATED MODULE: ./src/components/Gallery.js\n// import { useAuthState } from 'react-firebase-hooks/auth';\nfunction Gallery(props){var history=Object(react_router[\"f\" /* useHistory */])();// const [images,setImages] = useState([]);\n// let querySearchType = \"uid\";\n// let querySearchValue = FirestoreService.auth.currentUser.uid;\nvar query=db.collection('images').where(props.querySearchType,\"==\",props.querySearchValue);var _useCollectionData=Object(firestore_dist_index_esm[\"a\" /* useCollectionData */])(query,{idField:'id'}),_useCollectionData2=Object(slicedToArray[\"a\" /* default */])(_useCollectionData,2),gallery=_useCollectionData2[0],loading=_useCollectionData2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:!loading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Gallery_Feed,{gallery:gallery})});}function Gallery_Feed(props){var history=Object(react_router[\"f\" /* useHistory */])();console.log(props.gallery);var Images=props.gallery;Object(react[\"useEffect\"])(function(){if(!Images[0].publicPermission){console.log(\"private\");}},[]);var Feed=Images.map(function(image){var permission=\"Private\";if(image.publicPermission){permission=\"Public\";}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image,{url:image.url,permission:permission,id:image.id});});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"PRIVATE GALLERY\"}),Feed]});}\n// CONCATENATED MODULE: ./src/pages/Private.js\nfunction PrivateGallery(){var _useAuthState=Object(react_firebase_hooks_auth_dist_index_esm[\"a\" /* useAuthState */])(auth),_useAuthState2=Object(slicedToArray[\"a\" /* default */])(_useAuthState,1),user=_useAuthState2[0];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"body\",{className:\"App-body\",children:user?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Gallery,{querySearchType:\"uid\",querySearchValue:auth.currentUser.uid}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SignIn,{})});}\n// CONCATENATED MODULE: ./src/pages/Public.js\nfunction PublicGallery(){var _useAuthState=Object(react_firebase_hooks_auth_dist_index_esm[\"a\" /* useAuthState */])(auth),_useAuthState2=Object(slicedToArray[\"a\" /* default */])(_useAuthState,1),user=_useAuthState2[0];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"body\",{className:\"App-body\",children:user?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Gallery,{querySearchType:\"publicPermission\",querySearchValue:true}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SignIn,{})});}\n// CONCATENATED MODULE: ./src/Router.js\nfunction AppRouter(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"header\",{className:\"App-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Imagify\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Home,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/gallery/private\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PrivateGallery,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/gallery/public\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PublicGallery,{})})]})})]});}\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AppRouter,{});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 66)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[59,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/node_modules/postcss-loader/src/index.js??postcss!/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/src/index.css","/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/node_modules/postcss-loader/src/index.js??postcss!/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/src/App.css","/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/src/firebase/firestore.js","/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/src/components/SignIn.js","/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/src/components/SignedIn.js","/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/src/pages/Home.js","/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/src/components/Image.js","/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/src/components/Gallery.js","/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/src/pages/Private.js","/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/src/pages/Public.js","/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/src/Router.js","/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/src/App.js","/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/src/reportWebVitals.js","/Users/omarp/workspace/Shopify_Image_Repo_Challenge/Imagify/src/index.js"],"names":["require","config","firebaseConfig","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","db","firestore","auth","storage","authSignIn","provider","GoogleAuthProvider","signInWithPopup","uploadImage","url","collection","add","uid","currentUser","publicPermission","console","log","updateImagePermission","id","permission","doc","update","SignIn","history","useHistory","handleSignIn","FirestoreService","SignedIn","useState","images","setImages","compressedImages","setCompressedImages","click","setClick","fileInput","useRef","handleChange","e","options","maxSizeMB","maxWidthOrHeight","useWebWorker","tempCompressedImages","tempImages","files","target","i","length","imageCompression","compressedFile","push","error","handleUpload","ref","name","put","uploadTask","task","on","snapshot","child","getDownloadURL","then","uploaded","handleClick","current","display","Home","useAuthState","user","Image","props","clickDisabled","setClickDisabled","permissionValue","setPermissionValue","handleSelect","eventKey","toggleValue","updateProgress","setTimeout","Gallery","query","where","querySearchType","querySearchValue","useCollectionData","idField","gallery","loading","Feed","Images","useEffect","map","image","PrivateGallery","PublicGallery","AppRouter","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport \"firebase/storage\";\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nrequire('dotenv').config();\n\nconst firebaseConfig = {\n    apiKey: process.env.REACT_APP_APIKEY,\n    authDomain: process.env.REACT_APP_AUTHDOMAIN,\n    projectId: process.env.REACT_APP_PORJECTID,\n    storageBucket: process.env.REACT_APP_STORAGEBUCKET,\n    messagingSenderId: process.env.REACT_APP_MESSAGINGSENDERID,\n    appId: process.env.REACT_APP_APPID,\n    measurementId: process.env.REACT_APP_MEASUREMENTID\n  };\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const db = firebase.firestore();\nexport const auth = firebase.auth();\nexport const storage = firebase.storage();\n\nexport const authSignIn = async () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider);\n}\n\nexport const uploadImage = async (url) => {\n    try{\n        await db.collection('images').add({\n            url: url,\n            uid: auth.currentUser.uid,\n            publicPermission: false,\n        });\n        \n        return true;\n    } catch (err){\n        console.log(err);\n        return false;\n    }\n}\n\nexport const updateImagePermission = async (id, permission) => {\n    try{\n        console.log(permission);\n        await db.collection('images').doc(id).update({\n            publicPermission: permission,\n        });\n        \n        return true;\n    } catch (err){\n        console.log(err);\n        return false;\n    }\n}","import React, { useState } from \"react\";\nimport Button from 'react-bootstrap/Button'\nimport { useHistory } from \"react-router-dom\";\nimport * as FirestoreService from '../firebase/firestore';\nimport Form from 'react-bootstrap/Form'\n\nexport default function SignIn() {\n    let history = useHistory();\n\n    \n    const handleSignIn = () =>{\n        FirestoreService.authSignIn();\n    }\n  \n    return (\n    <div className=\"Page-home-buttons\">\n        <Button variant=\"outline-primary\" size=\"lg\" onClick={handleSignIn}>Sign In</Button>\n    </div>  \n    );\n  }","import React, { useState, useRef } from \"react\";\nimport Button from 'react-bootstrap/Button'\nimport { useHistory } from \"react-router-dom\";\nimport * as FirestoreService from '../firebase/firestore';\nimport Form from 'react-bootstrap/Form';\nimport imageCompression from 'browser-image-compression';\n\nexport default function SignedIn() {\n    let history = useHistory();\n    const [images,setImages] = useState([]);\n    const [compressedImages,setCompressedImages] = useState([]);\n    const [click,setClick] = useState(false);\n    const fileInput = useRef(null);\n\n    const handleChange = async(e) =>{\n        setClick(!click);\n        const options = {\n            maxSizeMB: 1,\n            maxWidthOrHeight: 1920,\n            useWebWorker: true\n        }\n        console.log(\"Started!\");\n        let tempCompressedImages = [];\n        let tempImages = [];\n        const files = e.target.files;\n        for (let i = 0; i < files.length; i++){\n            if(e.target.files[i]){\n                try {\n                    const compressedFile = await imageCompression(e.target.files[i], options);\n                    tempCompressedImages.push(compressedFile);\n                    tempImages.push(e.target.files[i]);\n                    } catch (error) {\n                    console.log(error);\n                    }\n            }\n        }\n        try{\n            setCompressedImages(tempCompressedImages);\n            setImages(tempImages);\n        }   catch (error) {\n            console.log(error);\n        }\n        console.log(\"Files ready for upload!\");\n        setClick(!click);\n        // if(e.target.files[0]){\n        //     try {\n        //         console.log(\"Started\");\n        //         const compressedFile = await imageCompression(e.target.files[0], options);\n        //         console.log(\"worked\");\n        //         setCompressedImage(compressedFile);\n        //         setImage(e.target.files[0]);\n        //         // await uploadToServer(compressedFile); // write your own logic\n        //       } catch (error) {\n        //         console.log(error);\n        //       }\n        // }\n        \n    }\n    const handleUpload = async() =>{\n        // console.log(image);\n        // console.log(compressedImage);\n        setClick(!click);\n        for (let i = 0; i < compressedImages.length; i++){\n            const uploadTask = await FirestoreService.storage.ref(`images/${compressedImages[i].name}`).put(compressedImages[i]);\n            console.log(\"Uploaded\");\n            uploadTask.task.on(\"state_changed\", \n                            snapshot => {}, \n                            error =>{\n                                console.log(error);\n                            },\n                            () =>  {\n                                FirestoreService.storage.ref(\"images\").child(compressedImages[i].name).getDownloadURL().then(async (url) => {\n                                    // console.log(url);\n                                    \n                                    let uploaded = await FirestoreService.uploadImage(url);\n                                    console.log(\"Uploaded: \"+uploaded);\n                                });\n                            });\n        }  \n        console.log(\"Uploaded!\");\n        setCompressedImages([]);\n        setImages([]);  \n        setClick(!click);       \n    }\n    function handleClick() {\n        fileInput.current.click();\n      }\n    return (\n        <div>\n            <div className=\"Page-home-buttons\">\n                <input style= {{display: \"none\"}} type=\"file\" onChange={handleChange} ref={fileInput}/>\n                <Button onClick={handleClick} variant=\"outline-info\"  size=\"lg\">Add Files</Button> \n                <span className=\"Spacer\"/>\n                <Button variant=\"outline-info\"  size=\"lg\" disabled={false} onClick={handleUpload}>Upload</Button> \n            </div> \n        </div> \n    )\n}","import React, { useState } from \"react\";\nimport Button from 'react-bootstrap/Button'\nimport { useHistory } from \"react-router-dom\";\nimport * as FirestoreService from '../firebase/firestore';\nimport Form from 'react-bootstrap/Form'\nimport SignIn from \"../components/SignIn\";\nimport SignedIn from \"../components/SignedIn\";\nimport { useAuthState } from 'react-firebase-hooks/auth';\n\nexport default function Home() {\n    const [user] = useAuthState(FirestoreService.auth);\n    return (\n    <body  className=\"App-body\">\n        {user ? <SignedIn />  : <SignIn /> } \n    </body>\n    );\n}","import React, { useState, useRef, useEffect} from \"react\";\nimport Button from 'react-bootstrap/Button'\nimport { useHistory } from \"react-router-dom\";\nimport * as FirestoreService from '../firebase/firestore';\nimport Form from 'react-bootstrap/Form';\nimport imageCompression from 'browser-image-compression';\n// import { useAuthState } from 'react-firebase-hooks/auth';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown';\n\n// import SignIn from \"./SignIn\";\n\nexport default function Image(props) {\n    const [clickDisabled, setClickDisabled] = useState(false);\n    const [permissionValue, setPermissionValue] = useState(props.permission);\n    const handleSelect = async(eventKey) => {\n        setClickDisabled(true);\n        let permission = false;\n        let toggleValue = \"Private\";\n        if(eventKey === \"false\"){\n            permission = false;\n            toggleValue = \"Private\";\n        } else {\n            permission = true;\n            toggleValue = \"Public\";\n        }\n        let updateProgress = await FirestoreService.updateImagePermission(props.id, permission);\n        if(updateProgress){\n            setPermissionValue(toggleValue);\n            console.log(\"Successful!\");\n        } else {\n            console.log(\"Not Successful!\");\n        }\n        setTimeout(function(){ setClickDisabled(false); }, 5000);\n    }\n    return (\n        <section className=\"Image-Card\">\n            <img src={props.url} height={300} width={300}/>\n            <section>\n                <h3>Permissions:</h3>\n                <Dropdown onSelect={handleSelect}>\n                    <Dropdown.Toggle disabled={clickDisabled}>\n                        {permissionValue}\n                    </Dropdown.Toggle>\n\n                    <Dropdown.Menu>\n                        <Dropdown.Item eventKey=\"true\" >Public</Dropdown.Item>\n                        <Dropdown.Item eventKey=\"false\" >Private</Dropdown.Item>\n                    </Dropdown.Menu>\n                </Dropdown>\n            </section>\n        </section> \n    )\n}\n\n","import React, { useState, useRef, useEffect} from \"react\";\nimport Button from 'react-bootstrap/Button'\nimport { useHistory } from \"react-router-dom\";\nimport * as FirestoreService from '../firebase/firestore';\nimport Form from 'react-bootstrap/Form';\nimport imageCompression from 'browser-image-compression';\n// import { useAuthState } from 'react-firebase-hooks/auth';\nimport { useCollectionData } from 'react-firebase-hooks/firestore';\nimport Image from \"./Image\";\n\nexport default function Gallery(props) {\n    let history = useHistory();\n    // const [images,setImages] = useState([]);\n    // let querySearchType = \"uid\";\n    // let querySearchValue = FirestoreService.auth.currentUser.uid;\n    const query = FirestoreService.db.collection('images').where(props.querySearchType, \"==\", props.querySearchValue);\n    const [gallery, loading] = useCollectionData(query, {idField: 'id'});\n\n    return (\n        <div>\n           {!loading && <Feed gallery={gallery}/> }    \n        </div> \n    )\n}\n\nfunction Feed(props){\n    let history = useHistory();\n    console.log(props.gallery);\n    const Images = props.gallery;\n   \n    useEffect(() => {\n        if(!Images[0].publicPermission){\n            console.log(\"private\")\n        }\n    }, [])   \n    const Feed = Images.map((image) => {\n        let permission = \"Private\";\n        if(image.publicPermission){\n            permission = \"Public\";\n        }\n        return <Image url={image.url} permission={permission} id={image.id}/>});\n\n    return (\n        <div>\n           <h1>PRIVATE GALLERY</h1> \n           {Feed}\n        </div> \n    )\n}","import React, { useState } from \"react\";\nimport Button from 'react-bootstrap/Button'\nimport { useHistory } from \"react-router-dom\";\nimport * as FirestoreService from '../firebase/firestore';\nimport Form from 'react-bootstrap/Form'\nimport SignIn from \"../components/SignIn\";\nimport Gallery from \"../components/Gallery\";\nimport { useAuthState } from 'react-firebase-hooks/auth';\n\nexport default function PrivateGallery() {\n    const [user] = useAuthState(FirestoreService.auth);\n    return (\n    <body  className=\"App-body\">\n        {/* {user ? <Gallery querySearchType={\"publicPermission\"} querySearchValue={true}/> : <SignIn /> }  */}\n        {user ? <Gallery querySearchType={\"uid\"} querySearchValue={FirestoreService.auth.currentUser.uid}/> : <SignIn /> } \n    </body>\n    );\n}","import React, { useState } from \"react\";\nimport Button from 'react-bootstrap/Button'\nimport { useHistory } from \"react-router-dom\";\nimport * as FirestoreService from '../firebase/firestore';\nimport Form from 'react-bootstrap/Form'\nimport SignIn from \"../components/SignIn\";\nimport Gallery from \"../components/Gallery\";\nimport { useAuthState } from 'react-firebase-hooks/auth';\n\nexport default function PublicGallery() {\n    const [user] = useAuthState(FirestoreService.auth);\n\n    return (\n    <body  className=\"App-body\">\n        {/* {user ? <Gallery querySearchType={\"publicPermission\"} querySearchValue={true}/> : <SignIn /> }  */}\n        {user ? <Gallery querySearchType={\"publicPermission\"} querySearchValue={true}/> : <SignIn /> } \n    </body>\n    );\n}","import React, { Suspense, lazy, useState } from \"react\";\nimport {BrowserRouter as Router, Switch, Route} from \"react-router-dom\";\n\n\nimport Home from \"./pages/Home\";\nimport PrivateGallery from \"./pages/Private\";\nimport PublicGallery from \"./pages/Public\";\n\nexport default function AppRouter() {\n    return (\n    <div className=\"App\">\n        <header className=\"App-header\">\n            <h1>Imagify</h1>\n        </header>\n            <Router>\n                \n                {/* A <Switch> looks through its children <Route>s and\n                    renders the first one that matches the current URL. */}\n                <Switch>\n                    <Route exact path=\"/\">\n                        <Home />\n                    </Route>\n                    <Route exact path=\"/gallery/private\">\n                        <PrivateGallery />\n                    </Route>\n                    <Route exact path=\"/gallery/public\">\n                        <PublicGallery />\n                    </Route>\n                </Switch>\n            </Router>\n      </div>\n    );\n  }","import './App.css';\nimport AppRouter from './Router';\n\nfunction App() {\n  return (\n    <AppRouter />\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}